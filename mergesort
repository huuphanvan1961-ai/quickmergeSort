#include<iostream>
#include <vector>
using namespace std;
void merge(int a[], int l, int mid, int r) {
	int n1 = mid - l + 1;
	int n2 = r - mid;
	vector<int> a_left(n1);
	vector<int> a_right(n2);
	for (int i = 0; i < n1; i++) {
		a_left[i] = a[l + i];
	}
	for (int j = 0; j < n2; j++) {
		a_right[j] = a[mid + 1 + j];
	}
	int i = 0, j = 0, k = l;
	while ((i < n1) && (j < n2)) {
		if (a_left[i] <= a_right[j]) {
			a[k] = a_left[i];
			i++;
		}
		else {
			a[k] = a_right[j];
			j++;
		}
		k++;
	}
	while (j < n2) {
		a[k] = a_right[j];
		j++;
		k++;
	}
	while (i < n1) {
		a[k] = a_left[i];
		i++;
		k++;
	}
}
void mergeSort(int a[], int l, int r) {
	if (l < r) {
		int mid = (l + r) / 2;
		mergeSort(a, l, mid);
		mergeSort(a, mid + 1, r);
		merge(a, l, mid, r);
	}
	for (int i = l; i <= r; i++) {
		cout << a[i] << " ";
	}
	cout << endl;
}
int main() {
	int a[] = { 10, 3, 1, 2, 8, 9, 7, 4, 6, 5 };
	mergeSort(a, 0, 9);
	for (int i = 0; i < 10 ; i ++){
		cout << a[i] << " ";
	}
}
